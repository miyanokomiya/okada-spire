{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?5613","webpack:///./src/components/molecules/SCard.vue?0f6d","webpack:///./src/App.vue","webpack:///./src/models.ts","webpack:///./src/hooks/field.ts","webpack:///./src/hooks/cardTweens.ts","webpack:///./src/components/organisms/CardList.vue","webpack:///./src/components/molecules/SCard.vue","webpack:///./src/components/molecules/SCard.vue?ade5","webpack:///./src/components/molecules/SCard.vue?786a","webpack:///./src/components/organisms/CardList.vue?12c3","webpack:///./src/components/organisms/CardList.vue?a820","webpack:///./src/App.vue?d004","webpack:///./src/App.vue?968e","webpack:///./src/registerServiceWorker.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","id","style","xmlns","preserveAspectRatio","font-family","viewBox","hoverCard","cardList","fields","state","deck","cardInfoList","deckInfoList","cardSize","talon","talonInfoList","x","y","width","height","scale","fill","font-size","text-anchor","dominant-baseline","deckKeys","fieldSize","talonKeys","hand","handInfoList","hideKeyList","hoveredCardKey","cards","cardInfos","discard","draw","handKeys","createCard","diffFromCenter","index","size","getPositionInHand","args","diff","handCount","Math","pow","abs","getRotationInHand","reduce","rotate","hoveredIndex","indexOf","next","useFields","keys","map","handMax","getDeckInfos","getHandInfos","getTalonInfos","getCardInfos","isChainPlaying","tween","_chainedTweens","some","_isPlaying","tweens","stop","start","chain","useCardTweens","overrideTween","addTween","card","opacity","includes","hover","transform","stroke","stroke-width","rate","cx","cy","join","props","type","Number","required","default","setup","center","round","render","components","SCard","Array","_","ctx","emit","animate","requestAnimationFrame","update","CardList","cardTweens","nextInfos","forEach","k","Tween","to","talonToDeck","random","count","currentKeys","concat","newKeys","delay","filter","reverse","ready","console","log","registered","cached","updatefound","updated","offline","error","App","mount"],"mappings":"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","file":"js/app.4a4aa08c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export { default } from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&lang=scss\"","export { default } from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./SCard.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/dist/index.js??ref--0-1!./SCard.vue?vue&type=style&index=0&lang=scss\"","<template>\n  <div id=\"app\">\n    <div style=\"border: 1px solid black; display: flex;\">\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        preserveAspectRatio=\"none\"\n        font-family=\"sans-serif\"\n        :viewBox=\"\n          `0 0 ${fields.state.fieldSize.width} ${fields.state.fieldSize.height}`\n        \"\n        style=\"width: 100%; height: auto;\"\n        @mousemove.self=\"hoverCard()\"\n      >\n        <CardList\n          :cardList=\"fields.state.deck\"\n          :cardInfoList=\"fields.state.deckInfoList\"\n          :cardSize=\"fields.state.cardSize\"\n        />\n        <CardList\n          :cardList=\"fields.state.talon\"\n          :cardInfoList=\"fields.state.talonInfoList\"\n          :cardSize=\"fields.state.cardSize\"\n        />\n        <g>\n          <SCard\n            :x=\"10\"\n            :y=\"\n              fields.state.fieldSize.height - fields.state.cardSize.height - 10\n            \"\n            :width=\"fields.state.cardSize.width\"\n            :height=\"fields.state.cardSize.height\"\n            :scale=\"0.5\"\n          >\n            <text\n              fill=\"black\"\n              font-size=\"140\"\n              :x=\"fields.state.cardSize.width / 2\"\n              :y=\"fields.state.cardSize.height / 2\"\n              text-anchor=\"middle\"\n              dominant-baseline=\"middle\"\n            >\n              {{ fields.state.deckKeys.length }}\n            </text>\n          </SCard>\n        </g>\n        <g>\n          <SCard\n            :x=\"fields.state.fieldSize.width - fields.state.cardSize.width - 10\"\n            :y=\"\n              fields.state.fieldSize.height - fields.state.cardSize.height - 10\n            \"\n            :width=\"fields.state.cardSize.width\"\n            :height=\"fields.state.cardSize.height\"\n            :scale=\"0.5\"\n          >\n            <text\n              fill=\"black\"\n              font-size=\"140\"\n              :x=\"fields.state.cardSize.width / 2\"\n              :y=\"fields.state.cardSize.height / 2\"\n              text-anchor=\"middle\"\n              dominant-baseline=\"middle\"\n            >\n              {{ fields.state.talonKeys.length }}\n            </text>\n          </SCard>\n        </g>\n        <CardList\n          :cardList=\"fields.state.hand\"\n          :cardInfoList=\"fields.state.handInfoList\"\n          :cardSize=\"fields.state.cardSize\"\n          :hideKeyList=\"[fields.state.hoveredCardKey]\"\n          @hover=\"hoverCard\"\n        />\n        <CardList\n          v-if=\"fields.state.hoveredCardKey\"\n          :cardList=\"[fields.state.cards[fields.state.hoveredCardKey]]\"\n          :cardInfoList=\"[fields.state.cardInfos[fields.state.hoveredCardKey]]\"\n          :cardSize=\"fields.state.cardSize\"\n          @click=\"discard([fields.state.hoveredCardKey])\"\n        />\n      </svg>\n    </div>\n    <div style=\"margin: 1rem;\">\n      <button style=\"padding: 1rem;\" @click=\"draw(1)\">Draw</button>\n      <button\n        style=\"margin: 0 1rem; padding: 1rem;\"\n        @click=\"draw(10 - fields.state.handKeys.length)\"\n      >\n        Draw 10\n      </button>\n      <button style=\"padding: 1rem;\" @click=\"discard(fields.state.handKeys)\">\n        Discard All\n      </button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, watch } from 'vue'\nimport { Position, Card, createCard } from '@/models'\nimport { useFields } from '@/hooks/field'\nimport { useCardTweens } from '@/hooks/cardTweens.ts'\nimport CardList from '@/components/organisms/CardList.vue'\nimport SCard from '@/components/molecules/SCard.vue'\nimport TWEEN from '@tweenjs/tween.js'\n\nfunction animate() {\n  requestAnimationFrame(animate)\n  TWEEN.update()\n}\nrequestAnimationFrame(animate)\n\ntype HandInfo = Position & { rotate: number; scale: number }\n\nexport default defineComponent({\n  name: 'App',\n  components: {\n    CardList,\n    SCard\n  },\n  setup() {\n    const cardTweens = useCardTweens()\n    const fields = useFields({\n      cards: [...Array(15)]\n        .map((_, i) => createCard(i + 1))\n        .reduce((p, c) => ({ ...p, [c.key]: c }), {}) as {\n        [key: string]: Card\n      },\n      fieldSize: { width: 2600, height: 900 },\n      cardSize: { width: 220, height: 220 * (20 / 13) }\n    })\n\n    const state = reactive({})\n\n    const hoverCard = (key = '') => {\n      if (fields.state.hoveredCardKey === key) return\n      fields.state.hoveredCardKey = key\n\n      const nextInfos = fields.getHandInfos()\n      fields.state.handKeys.forEach(k => {\n        if (k === key) {\n          cardTweens.overrideTween(\n            k,\n            new TWEEN.Tween(fields.state.cardInfos[k]).to(nextInfos[k], 100)\n          )\n        } else {\n          cardTweens.addTween(\n            k,\n            new TWEEN.Tween(fields.state.cardInfos[k]).to(nextInfos[k], 100)\n          )\n        }\n      })\n    }\n\n    const talonToDeck = () => {\n      fields.state.deckKeys = fields.state.talonKeys\n      fields.state.talonKeys = []\n\n      const nextInfos = fields.getCardInfos()\n      fields.state.deckKeys.forEach((k, i) => {\n        cardTweens.overrideTween(\n          k,\n          new TWEEN.Tween(fields.state.cardInfos[k])\n            .to(\n              {\n                ...nextInfos[k],\n                x: nextInfos[k].x + fields.state.fieldSize.width / 2,\n                y:\n                  nextInfos[k].y +\n                  (fields.state.cardSize.height / 2) * (Math.random() - 0.5)\n              },\n              200 + 50 * i\n            )\n            .chain(\n              new TWEEN.Tween(fields.state.cardInfos[k]).to(\n                nextInfos[k],\n                200 + 50 * i\n              )\n            )\n        )\n      })\n    }\n\n    const tweenHand = () => {\n      const nextInfos = fields.getCardInfos()\n      fields.state.handKeys.forEach(key => {\n        cardTweens.addTween(\n          key,\n          new TWEEN.Tween(fields.state.cardInfos[key]).to(nextInfos[key], 400)\n        )\n      })\n    }\n\n    const draw = (count = 1) => {\n      if (count <= 0) return\n      if (fields.state.handKeys.length >= fields.state.handMax) return\n\n      const currentKeys = fields.state.handKeys.concat()\n      const newKeys: string[] = []\n      ;[...Array(count)].map(() => {\n        if (fields.state.deckKeys.length === 0) {\n          talonToDeck()\n        }\n\n        const key = fields.state.deckKeys.shift()\n        if (key) {\n          fields.state.handKeys = [...fields.state.handKeys, key]\n          newKeys.push(key)\n        }\n      })\n\n      const nextInfos = fields.getCardInfos()\n      currentKeys.forEach(key => {\n        cardTweens.addTween(\n          key,\n          new TWEEN.Tween(fields.state.cardInfos[key]).to(nextInfos[key], 400)\n        )\n      })\n      newKeys.forEach((key, i) => {\n        cardTweens.addTween(\n          key,\n          new TWEEN.Tween(fields.state.cardInfos[key])\n            .delay(20 * Math.pow(i, 1.2))\n            .to(\n              {\n                ...nextInfos[key],\n                x: nextInfos[key].x + fields.state.cardSize.width * 0.3\n              },\n              400\n            )\n            .chain(\n              new TWEEN.Tween(fields.state.cardInfos[key]).to(\n                nextInfos[key],\n                100\n              )\n            )\n        )\n      })\n    }\n\n    const discard = (keys: string[]) => {\n      fields.state.hoveredCardKey = ''\n\n      fields.state.handKeys = fields.state.handKeys.filter(\n        k => !keys.includes(k)\n      )\n      fields.state.talonKeys = [...fields.state.talonKeys, ...keys]\n      const nextInfos = fields.getCardInfos()\n\n      fields.state.handKeys.forEach(k => {\n        cardTweens.overrideTween(\n          k,\n          new TWEEN.Tween(fields.state.cardInfos[k]).to(nextInfos[k], 300)\n        )\n      })\n      fields.state.talonKeys\n        .concat()\n        .reverse()\n        .forEach((k, i) => {\n          cardTweens.overrideTween(\n            k,\n            new TWEEN.Tween(fields.state.cardInfos[k])\n              .delay(20 * Math.pow(i, 1.2))\n              .to(nextInfos[k], 300)\n          )\n        })\n    }\n\n    return { fields, state, hoverCard, draw, discard }\n  }\n})\n</script>\n\n<style lang=\"scss\">\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n\n.card {\n  &.hovered {\n    opacity: 0;\n  }\n}\n</style>\n","export type Position = {\n  x: number\n  y: number\n}\n\nexport type Size = {\n  width: number\n  height: number\n}\n\nexport type Card = {\n  key: string\n  name: string\n}\nexport type Cards = { [key: string]: Card }\n\nexport type CardInfo = Position & { rotate: number; scale: number }\nexport type CardInfos = { [key: string]: CardInfo }\n\nexport function createCard(i: number) {\n  return {\n    key: `${i}`,\n    name: `card_${i}`\n  }\n}\n","import { reactive, computed } from 'vue'\nimport { Position, Size, Card, Cards, CardInfo, CardInfos } from '@/models'\n\nexport function diffFromCenter(index: number, size: number) {\n  return (size - 1) / 2 - index\n}\n\nexport function getPositionInHand(args: {\n  index: number\n  handCount: number\n  cardSize: Size\n  fieldSize: Size\n}): Position {\n  const diff = diffFromCenter(args.index, args.handCount)\n  return {\n    x:\n      -args.cardSize.width / 2 +\n      args.fieldSize.width / 2 -\n      args.cardSize.width * 0.9 * diff,\n    y:\n      args.fieldSize.height -\n      args.cardSize.height * 1.5 +\n      args.cardSize.height * 0.04 * Math.pow(Math.abs(diff), 1.9)\n  }\n}\n\nexport function getRotationInHand(args: {\n  index: number\n  handCount: number\n}): number {\n  return -5 * diffFromCenter(args.index, args.handCount)\n}\n\nexport function getDeckInfos(args: {\n  deckKeys: string[]\n  cardSize: Size\n  fieldSize: Size\n}): CardInfos {\n  return args.deckKeys.reduce<CardInfos>((p, key) => {\n    return {\n      ...p,\n      [key]: {\n        x: 10,\n        y: args.fieldSize.height - args.cardSize.height - 10,\n        rotate: 0,\n        scale: 0.5\n      }\n    }\n  }, {})\n}\n\nexport function getHandInfos(args: {\n  handKeys: string[]\n  cardSize: Size\n  fieldSize: Size\n  hoveredCardKey: string\n}): CardInfos {\n  const hoveredIndex = args.handKeys.indexOf(args.hoveredCardKey)\n  return args.handKeys.reduce<CardInfos>((p, key, index) => {\n    const next = {\n      ...getPositionInHand({\n        index,\n        handCount: args.handKeys.length,\n        cardSize: args.cardSize,\n        fieldSize: args.fieldSize\n      }),\n      rotate: getRotationInHand({\n        index,\n        handCount: args.handKeys.length\n      }),\n      scale: 1\n    }\n\n    if (hoveredIndex !== -1) {\n      const diff = hoveredIndex - index\n      if (diff === 0) {\n        next.y = next.y - args.cardSize.height * 0.15\n        next.rotate = 0\n        next.scale = 1.4\n      } else {\n        next.x = next.x - (args.cardSize.width * 0.15) / diff\n      }\n    }\n\n    return {\n      ...p,\n      [key]: next\n    }\n  }, {})\n}\n\nexport function getTalonInfos(args: {\n  talonKeys: string[]\n  cardSize: Size\n  fieldSize: Size\n}): CardInfos {\n  return args.talonKeys.reduce<CardInfos>((p, key) => {\n    return {\n      ...p,\n      [key]: {\n        x: args.fieldSize.width - args.cardSize.width - 10,\n        y: args.fieldSize.height - args.cardSize.height - 10,\n        rotate: 0,\n        scale: 0.5\n      }\n    }\n  }, {})\n}\n\nexport function getCardInfos(args: {\n  deckKeys: string[]\n  handKeys: string[]\n  talonKeys: string[]\n  cardSize: Size\n  fieldSize: Size\n}): CardInfos {\n  return {\n    ...getDeckInfos(args),\n    ...getHandInfos(args),\n    ...getTalonInfos(args)\n  }\n}\n\nexport function useFields(args: {\n  cards: Cards\n  cardSize: Size\n  fieldSize: Size\n}) {\n  const state = reactive({\n    cards: args.cards,\n    deckKeys: Object.keys(args.cards),\n    handKeys: [] as string[],\n    talonKeys: [] as string[],\n    cardInfos: {} as CardInfos,\n    hoveredCardKey: '',\n    deck: computed((): Card[] => state.deckKeys.map(key => state.cards[key])),\n    hand: computed((): Card[] => state.handKeys.map(key => state.cards[key])),\n    talon: computed((): Card[] => state.talonKeys.map(key => state.cards[key])),\n    deckInfoList: computed((): CardInfo[] =>\n      state.deckKeys.map(key => state.cardInfos[key])\n    ),\n    handInfoList: computed((): CardInfo[] =>\n      state.handKeys.map(key => state.cardInfos[key])\n    ),\n    talonInfoList: computed((): CardInfo[] =>\n      state.talonKeys.map(key => state.cardInfos[key])\n    ),\n    fieldSize: computed(() => args.fieldSize),\n    cardSize: computed(() => args.cardSize),\n    handMax: computed(() => 10)\n  })\n\n  state.cardInfos = getCardInfos(state)\n\n  return {\n    state,\n    getDeckInfos: () => getDeckInfos(state),\n    getHandInfos: () => getHandInfos(state),\n    getTalonInfos: () => getTalonInfos(state),\n    getCardInfos: () => getCardInfos(state)\n  }\n}\n","import { reactive, computed, watch, watchEffect } from 'vue'\nimport TWEEN from '@tweenjs/tween.js'\n\nexport type Tweens = { [key: string]: TWEEN.Tween }\n\nfunction isChainPlaying(tween?: TWEEN.Tween): boolean {\n  if (!tween) return false\n  return [tween, ...tween._chainedTweens].some(t => t._isPlaying)\n}\n\nfunction overrideTween(tweens: Tweens, key: string, tween: TWEEN.Tween) {\n  if (tweens[key]) {\n    tweens[key].stop()\n  }\n  tweens[key] = tween.start()\n}\n\nfunction addTween(tweens: Tweens, key: string, tween: TWEEN.Tween) {\n  if (isChainPlaying(tweens[key])) {\n    if (tweens[key]._chainedTweens.length > 0) {\n      tweens[key]._chainedTweens[tweens[key]._chainedTweens.length - 1].chain(\n        tween\n      )\n    } else {\n      tweens[key].chain(tween)\n    }\n  } else {\n    tweens[key] = tween.start()\n  }\n}\n\nexport function useCardTweens() {\n  const state = reactive({\n    tweens: {} as Tweens\n  })\n\n  return {\n    state,\n    overrideTween: (key: string, tween: TWEEN.Tween) =>\n      overrideTween(state.tweens, key, tween),\n    addTween: (key: string, tween: TWEEN.Tween) =>\n      addTween(state.tweens, key, tween)\n  }\n}\n","<template>\n  <g>\n    <SCard\n      v-for=\"(card, i) in cardList\"\n      :key=\"card.key\"\n      :x=\"cardInfoList[i].x\"\n      :y=\"cardInfoList[i].y\"\n      :width=\"cardSize.width\"\n      :height=\"cardSize.height\"\n      :rotate=\"cardInfoList[i].rotate\"\n      :scale=\"cardInfoList[i].scale\"\n      :opacity=\"hideKeyList.includes(card.key) ? 0 : 1\"\n      @mousemove.native=\"hover(card.key)\"\n    >\n      <text\n        fill=\"black\"\n        font-size=\"140\"\n        :x=\"cardSize.width / 2\"\n        :y=\"cardSize.height / 2\"\n        text-anchor=\"middle\"\n        dominant-baseline=\"middle\"\n      >\n        {{ card.key }}\n      </text>\n    </SCard>\n  </g>\n</template>\n\n<script lang=\"ts\">\nimport { PropType, defineComponent } from 'vue'\nimport { Card, CardInfo, Size } from '@/models'\nimport SCard from '@/components/molecules/SCard.vue'\n\nexport default defineComponent({\n  components: { SCard },\n  props: {\n    cardList: { type: Array as PropType<Card[]>, required: true },\n    cardInfoList: { type: Array as PropType<CardInfo[]>, required: true },\n    cardSize: { type: Object as PropType<Size>, required: true },\n    hideKeyList: { type: Array as PropType<string[]>, default: () => [] }\n  },\n  setup(_, ctx) {\n    return {\n      hover: (key: string) => ctx.emit('hover', key)\n    }\n  }\n})\n</script>\n","<template>\n  <g :transform=\"state.transform\">\n    <rect\n      :width=\"width\"\n      :height=\"height\"\n      stroke=\"black\"\n      stroke-width=\"2\"\n      fill=\"white\"\n    />\n    <slot />\n  </g>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, computed } from 'vue'\nimport { Position } from '@/models'\n\nfunction scale(rate: number, cx: number, cy: number): string {\n  return [\n    `translate(${cx}, ${cy})`,\n    `scale(${rate})`,\n    `translate(${-cx}, ${-cy})`\n  ].join(' ')\n}\n\nexport default defineComponent({\n  props: {\n    x: { type: Number, required: true },\n    y: { type: Number, required: true },\n    rotate: { type: Number, default: 0 },\n    scale: { type: Number, default: 1 },\n    width: { type: Number, required: true },\n    height: { type: Number, required: true }\n  },\n  setup(props) {\n    const state = reactive({\n      center: computed(\n        (): Position => ({\n          x: props.x + props.width / 2,\n          y: props.y + props.height / 2\n        })\n      ),\n      transform: computed(\n        (): string =>\n          `${scale(\n            props.scale,\n            state.center.x,\n            state.center.y\n          )} rotate(${Math.round(props.rotate)}, ${Math.round(\n            props.x + props.width / 2\n          )}, ${Math.round(props.y + props.height / 2)}) translate(${\n            props.x\n          }, ${props.y})`\n      )\n    })\n    return { state }\n  }\n})\n</script>\n\n<style lang=\"scss\">\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n","\nimport { defineComponent, reactive, computed } from 'vue'\nimport { Position } from '@/models'\n\nfunction scale(rate: number, cx: number, cy: number): string {\n  return [\n    `translate(${cx}, ${cy})`,\n    `scale(${rate})`,\n    `translate(${-cx}, ${-cy})`\n  ].join(' ')\n}\n\nexport default defineComponent({\n  props: {\n    x: { type: Number, required: true },\n    y: { type: Number, required: true },\n    rotate: { type: Number, default: 0 },\n    scale: { type: Number, default: 1 },\n    width: { type: Number, required: true },\n    height: { type: Number, required: true }\n  },\n  setup(props) {\n    const state = reactive({\n      center: computed(\n        (): Position => ({\n          x: props.x + props.width / 2,\n          y: props.y + props.height / 2\n        })\n      ),\n      transform: computed(\n        (): string =>\n          `${scale(\n            props.scale,\n            state.center.x,\n            state.center.y\n          )} rotate(${Math.round(props.rotate)}, ${Math.round(\n            props.x + props.width / 2\n          )}, ${Math.round(props.y + props.height / 2)}) translate(${\n            props.x\n          }, ${props.y})`\n      )\n    })\n    return { state }\n  }\n})\n","import { render } from \"./SCard.vue?vue&type=template&id=2aa56faa\"\nimport script from \"./SCard.vue?vue&type=script&lang=ts\"\nexport * from \"./SCard.vue?vue&type=script&lang=ts\"\n\nimport \"./SCard.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","\nimport { PropType, defineComponent } from 'vue'\nimport { Card, CardInfo, Size } from '@/models'\nimport SCard from '@/components/molecules/SCard.vue'\n\nexport default defineComponent({\n  components: { SCard },\n  props: {\n    cardList: { type: Array as PropType<Card[]>, required: true },\n    cardInfoList: { type: Array as PropType<CardInfo[]>, required: true },\n    cardSize: { type: Object as PropType<Size>, required: true },\n    hideKeyList: { type: Array as PropType<string[]>, default: () => [] }\n  },\n  setup(_, ctx) {\n    return {\n      hover: (key: string) => ctx.emit('hover', key)\n    }\n  }\n})\n","import { render } from \"./CardList.vue?vue&type=template&id=5640f762\"\nimport script from \"./CardList.vue?vue&type=script&lang=ts\"\nexport * from \"./CardList.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent, reactive, watch } from 'vue'\nimport { Position, Card, createCard } from '@/models'\nimport { useFields } from '@/hooks/field'\nimport { useCardTweens } from '@/hooks/cardTweens.ts'\nimport CardList from '@/components/organisms/CardList.vue'\nimport SCard from '@/components/molecules/SCard.vue'\nimport TWEEN from '@tweenjs/tween.js'\n\nfunction animate() {\n  requestAnimationFrame(animate)\n  TWEEN.update()\n}\nrequestAnimationFrame(animate)\n\ntype HandInfo = Position & { rotate: number; scale: number }\n\nexport default defineComponent({\n  name: 'App',\n  components: {\n    CardList,\n    SCard\n  },\n  setup() {\n    const cardTweens = useCardTweens()\n    const fields = useFields({\n      cards: [...Array(15)]\n        .map((_, i) => createCard(i + 1))\n        .reduce((p, c) => ({ ...p, [c.key]: c }), {}) as {\n        [key: string]: Card\n      },\n      fieldSize: { width: 2600, height: 900 },\n      cardSize: { width: 220, height: 220 * (20 / 13) }\n    })\n\n    const state = reactive({})\n\n    const hoverCard = (key = '') => {\n      if (fields.state.hoveredCardKey === key) return\n      fields.state.hoveredCardKey = key\n\n      const nextInfos = fields.getHandInfos()\n      fields.state.handKeys.forEach(k => {\n        if (k === key) {\n          cardTweens.overrideTween(\n            k,\n            new TWEEN.Tween(fields.state.cardInfos[k]).to(nextInfos[k], 100)\n          )\n        } else {\n          cardTweens.addTween(\n            k,\n            new TWEEN.Tween(fields.state.cardInfos[k]).to(nextInfos[k], 100)\n          )\n        }\n      })\n    }\n\n    const talonToDeck = () => {\n      fields.state.deckKeys = fields.state.talonKeys\n      fields.state.talonKeys = []\n\n      const nextInfos = fields.getCardInfos()\n      fields.state.deckKeys.forEach((k, i) => {\n        cardTweens.overrideTween(\n          k,\n          new TWEEN.Tween(fields.state.cardInfos[k])\n            .to(\n              {\n                ...nextInfos[k],\n                x: nextInfos[k].x + fields.state.fieldSize.width / 2,\n                y:\n                  nextInfos[k].y +\n                  (fields.state.cardSize.height / 2) * (Math.random() - 0.5)\n              },\n              200 + 50 * i\n            )\n            .chain(\n              new TWEEN.Tween(fields.state.cardInfos[k]).to(\n                nextInfos[k],\n                200 + 50 * i\n              )\n            )\n        )\n      })\n    }\n\n    const tweenHand = () => {\n      const nextInfos = fields.getCardInfos()\n      fields.state.handKeys.forEach(key => {\n        cardTweens.addTween(\n          key,\n          new TWEEN.Tween(fields.state.cardInfos[key]).to(nextInfos[key], 400)\n        )\n      })\n    }\n\n    const draw = (count = 1) => {\n      if (count <= 0) return\n      if (fields.state.handKeys.length >= fields.state.handMax) return\n\n      const currentKeys = fields.state.handKeys.concat()\n      const newKeys: string[] = []\n      ;[...Array(count)].map(() => {\n        if (fields.state.deckKeys.length === 0) {\n          talonToDeck()\n        }\n\n        const key = fields.state.deckKeys.shift()\n        if (key) {\n          fields.state.handKeys = [...fields.state.handKeys, key]\n          newKeys.push(key)\n        }\n      })\n\n      const nextInfos = fields.getCardInfos()\n      currentKeys.forEach(key => {\n        cardTweens.addTween(\n          key,\n          new TWEEN.Tween(fields.state.cardInfos[key]).to(nextInfos[key], 400)\n        )\n      })\n      newKeys.forEach((key, i) => {\n        cardTweens.addTween(\n          key,\n          new TWEEN.Tween(fields.state.cardInfos[key])\n            .delay(20 * Math.pow(i, 1.2))\n            .to(\n              {\n                ...nextInfos[key],\n                x: nextInfos[key].x + fields.state.cardSize.width * 0.3\n              },\n              400\n            )\n            .chain(\n              new TWEEN.Tween(fields.state.cardInfos[key]).to(\n                nextInfos[key],\n                100\n              )\n            )\n        )\n      })\n    }\n\n    const discard = (keys: string[]) => {\n      fields.state.hoveredCardKey = ''\n\n      fields.state.handKeys = fields.state.handKeys.filter(\n        k => !keys.includes(k)\n      )\n      fields.state.talonKeys = [...fields.state.talonKeys, ...keys]\n      const nextInfos = fields.getCardInfos()\n\n      fields.state.handKeys.forEach(k => {\n        cardTweens.overrideTween(\n          k,\n          new TWEEN.Tween(fields.state.cardInfos[k]).to(nextInfos[k], 300)\n        )\n      })\n      fields.state.talonKeys\n        .concat()\n        .reverse()\n        .forEach((k, i) => {\n          cardTweens.overrideTween(\n            k,\n            new TWEEN.Tween(fields.state.cardInfos[k])\n              .delay(20 * Math.pow(i, 1.2))\n              .to(nextInfos[k], 300)\n          )\n        })\n    }\n\n    return { fields, state, hoverCard, draw, discard }\n  }\n})\n","import { render } from \"./App.vue?vue&type=template&id=cb74fa8e\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","/* eslint-disable no-console */\n\nimport { register } from \"register-service-worker\";\n\nif (process.env.NODE_ENV === \"production\") {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready() {\n      console.log(\n        \"App is being served from cache by a service worker.\\n\" +\n          \"For more details, visit https://goo.gl/AFskqB\"\n      );\n    },\n    registered() {\n      console.log(\"Service worker has been registered.\");\n    },\n    cached() {\n      console.log(\"Content has been cached for offline use.\");\n    },\n    updatefound() {\n      console.log(\"New content is downloading.\");\n    },\n    updated() {\n      console.log(\"New content is available; please refresh.\");\n    },\n    offline() {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    },\n    error(error) {\n      console.error(\"Error during service worker registration:\", error);\n    }\n  });\n}\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport \"./registerServiceWorker\";\n\ncreateApp(App).mount(\"#app\");\n"],"sourceRoot":""}